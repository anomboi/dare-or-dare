<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dares or Dares: Neon Rave Edition</title>
  <style>
    body {
      background-color: #0f0f0f;
      color: #fff;
      font-family: 'Arial', sans-serif;
      text-align: center;
      padding: 20px;
    }
    h1 {
      color: #0ff;
    }
    .player-input {
      margin: 10px;
    }
    #game, #scoreboard, #skipHistogram {
      margin-top: 20px;
    }
    button {
      margin: 5px;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      font-size: 16px;
      cursor: pointer;
    }
    button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    #nextBtn {
      background-color: #ff0;
    }
    #acceptBtn {
      background-color: #0f0;
    }
    #skipBtn {
      background-color: #f00;
    }
    .score-entry {
      margin: 5px;
    }
    .bar-container {
      display: flex;
      justify-content: center;
      align-items: flex-end;
      height: 150px;
      gap: 10px;
      margin-top: 10px;
    }
    .bar {
      background-color: #0ff;
      width: 30px;
      text-align: center;
      color: #000;
      font-size: 12px;
    }
    .bar-label {
      margin-top: 5px;
    }
  </style>
</head>

<body>
  <h1>ðŸŒˆ Dares or Dares: Neon Rave Edition ðŸŒˆ</h1>
  <div>
    <input class="player-input" type="text" id="playerName" placeholder="Enter player name" />
    <button onclick="addPlayer()">Add Player</button>
  </div>
  <div>
    <input class="player-input" type="number" id="maxSkips" placeholder="Max skips per player" />
    <button onclick="startGame()">Start Game</button>
  </div>

  <div id="game" style="display: none">
    <h2 id="currentPlayer"></h2>
    <p id="dareText"></p>
    <button id="nextBtn" onclick="showNextDare()">Next</button>
    <br />
    <button id="acceptBtn" onclick="acceptDare()" disabled>Accept</button>
    <button id="skipBtn" onclick="skipDare()" disabled>Skip (Take a shot)</button>
  </div>

  <div id="skipHistogram"></div>
  <div id="scoreboard"></div>

  <script>
    const dares = [
      "Do a catwalk lap around the room in your underwear",
      "Give a lap dance to {someone} for 30 seconds",
      "Kiss {someone} on the lips for 10 seconds",
      "Do 10 squats while maintaining eye contact with {someone}",
      "Let {someone} draw something on your chest with a finger",
      "Exchange shirts with {someone}",
      "Let {someone} blindfold you and guide you to a random spot",
      "Grind on {someone} for 20 seconds (with clothes on)",
      "Whisper a naughty fantasy to {someone}",
      "Lick any non-private body part of {someone}"
    ];

    let players = [];
    let currentPlayerIndex = 0;
    let currentDare = "";
    let gameStarted = false;
    let maxSkipsAllowed = Infinity;
    let dareHistory = [];

    function addPlayer() {
      const nameInput = document.getElementById('playerName');
      const name = nameInput.value.trim();
      if (name && !players.some(p => p.name === name)) {
        players.push({ name, score: 0, skips: 0 });
        nameInput.value = '';
        updateScoreboard();
        updateHistogram();
      }
    }

    function startGame() {
      const skipInput = document.getElementById('maxSkips').value;
      maxSkipsAllowed = skipInput ? parseInt(skipInput) : Infinity;
      if (players.length < 2) {
        alert('At least 2 players needed.');
        return;
      }
      gameStarted = true;
      document.getElementById('game').style.display = 'block';
      showNextDare();
    }

    function showNextDare() {
      document.getElementById('acceptBtn').disabled = false;
      const currentPlayer = players[currentPlayerIndex];
      document.getElementById('skipBtn').disabled = currentPlayer.skips >= maxSkipsAllowed;
      document.getElementById('nextBtn').disabled = true;

      document.getElementById('currentPlayer').innerText = `ðŸŽ² ${currentPlayer.name}, it's your turn!`;
      let dare = dares[Math.floor(Math.random() * dares.length)];

      const otherPlayers = players.filter((_, i) => i !== currentPlayerIndex);
      const someone = otherPlayers[Math.floor(Math.random() * otherPlayers.length)].name;
      dare = dare.replace('{someone}', someone);

      currentDare = dare;
      dareHistory.push(`${currentPlayer.name}: ${dare}`);
      document.getElementById('dareText').innerText = dare;
    }

    function acceptDare() {
      players[currentPlayerIndex].score++;
      updateScoreboard();
      moveToNextPlayer();
    }

    function skipDare() {
      players[currentPlayerIndex].skips++;
      updateScoreboard();
      updateHistogram();
      moveToNextPlayer();
    }

    function moveToNextPlayer() {
      currentPlayerIndex = (currentPlayerIndex + 1) % players.length;
      document.getElementById('acceptBtn').disabled = true;
      document.getElementById('skipBtn').disabled = true;
      document.getElementById('nextBtn').disabled = false;
    }

    function updateScoreboard() {
      const scoreboard = document.getElementById('scoreboard');
      scoreboard.innerHTML = '<h2>ðŸ“Š Scoreboard</h2>' + players.map(p => `
        <div class="score-entry">${p.name}: ${p.score} accepted, ${p.skips} skips</div>
      `).join('') + '<h3>ðŸ“œ Dare History</h3>' + dareHistory.map(d => `<div>${d}</div>`).join('');
    }

    function updateHistogram() {
      const histogram = document.getElementById('skipHistogram');
      histogram.innerHTML = '<h2>ðŸ¥ƒ Skips Chart</h2><div class="bar-container">' + players.map(p => {
        const height = p.skips * 20;
        return `
          <div>
            <div class="bar" style="height:${height}px">${p.skips}</div>
            <div class="bar-label">${p.name}</div>
          </div>
        `;
      }).join('') + '</div>';
    }
  </script>
</body>

</html>
